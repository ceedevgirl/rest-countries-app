<section class="controls">
  <app-country-search-bar (onSearch)="onSearchChange($event)" />
  <app-region-filter
    [regions]="regions"
    (onRegion)="onRegionChange($event)"
  />
</section>

@if (loading$ | async) {
  <section class="skeleton-grid">
    @for (i of [1, 2, 3, 4, 5, 6,7,8]; track i) {
      <div class="skeleton-card"></div>
    }
  </section>
} @else {
  @let countries = filteredCountries$ | async;
  @if (countries?.length === 0) {
    <p class="empty-text">No countries match your search.</p>
  } @else {
    <section class="country-grid">
      @for (country of countries; track country.cca3) {
        <app-country-card [country]="country" />
      }
    </section>
  }
}
